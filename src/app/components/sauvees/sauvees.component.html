
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-header">
          <h5>Survivor</h5>
        </div>
        <div class="card-body">
          <div class="btn-popup pull-right">
            <button type="button" class="btn btn-secondary" data-toggle="modal" data-original-title="test"
                    data-target="#exampleModal" (click)="open(content)">Add Survivor
            </button>
            <ng-template #content let-modal>
              <div class="modal-header">
                <h5 class="modal-title f-w-600" id="exampleModalLabel">Add Survivor</h5>
                <button type="button" class="close" aria-label="Close"
                        (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form class="needs-validation" [formGroup]="editForm">
                  <div class="form">
                    <div class="form-group">
                      <label class="mb-1"> First Name :</label>
                      <input type="text" class="form-control" name="firstName" id="field_percentageValue"
                             formControlName="firstName"/>
                      <div
                        *ngIf="editForm.get('firstName')!.invalid && (editForm.get('firstName')!.dirty || editForm.get('firstName')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('firstName')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>
                    <div class="form-group">
                      <label class="mb-1"> Last Name :</label>
                      <input type="text" class="form-control" name="lastName" id="field_percentageValue"
                             formControlName="lastName"/>
                      <div
                        *ngIf="editForm.get('lastName')!.invalid && (editForm.get('lastName')!.dirty || editForm.get('lastName')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('lastName')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>

                    <div class="form-group">
                      <label class="mb-1"> Email :</label>
                      <input type="text" class="form-control" name="email" id="field_percentageValue"
                             formControlName="email"/>
                      <div
                        *ngIf="editForm.get('email')!.invalid && (editForm.get('email')!.dirty || editForm.get('email')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('email')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>
                    <div class="form-group">
                      <label class="mb-1"> Phone :</label>
                      <input type="text" class="form-control" name="phone" id="field_percentageValue"
                             formControlName="phone"/>
                      <div
                        *ngIf="editForm.get('phone')!.invalid && (editForm.get('phone')!.dirty || editForm.get('phone')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('phone')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>

                    <div class="form-group">
                      <label class="mb-1"> Address :</label>
                      <input type="text" class="form-control" name="address" id="field_percentageValue"
                             formControlName="address"/>
                      <div
                        *ngIf="editForm.get('address')!.invalid && (editForm.get('address')!.dirty || editForm.get('address')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('address')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>
                    <div class="form-group">
                      <label class="mb-1"> Description :</label>
                      <textarea type="text" class="form-control" name="description" id="field_percentageValue"
                                formControlName="description"></textarea>
                      <div
                        *ngIf="editForm.get('description')!.invalid && (editForm.get('description')!.dirty || editForm.get('description')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('description')?.errors?.required" translate="entity.validation.required">

                        </small>

                      </div>
                    </div>
                    <div class="form-group">
                      <label  class="mb-1">Image :</label>
                      <img   [src]="'data:' + editForm.get('imageContentType')!.value + ';base64,' + editForm.get('image')!.value" style="width: 60%; max-height: 180px;"  *ngIf="isEdit" alt="companyUser image"/>
                      <div class="custom-file ">
                        <input type="file" (change)="setFileData($event, 'image', true)" accept="image/*" class="custom-file-input pl-2 pr-2" id="customFile">
                        <label class="custom-file-label"   for="customFile" translate="addimage" ></label>
                      </div>
                      <input type="hidden" class="form-control" name="image"
                             formControlName="image"/>
                      <input type="hidden" class="form-control" name="imageContentType"
                             formControlName="imageContentType" />

                    </div>
                    <!--                                        <div class="form-group mb-0">-->
                    <!--                                            <label for="validationCustom02" class="mb-1">Category Image :</label>-->
                    <!--                                            <input class="form-control" id="validationCustom02" type="file">-->
                    <!--                                        </div>-->

                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" [disabled]="editForm.invalid "
                        (click)="saveCategory();modal.close()">Save
                </button>
                <button class="btn btn-secondary" type="button" data-dismiss="modal"
                        (click)="modal.dismiss('Cross click')">Close
                </button>
              </div>
            </ng-template>
          </div>
          <div id="batchDelete" class="category-table custom-datatable">
            <div class="table-responsive card" *ngIf="Categories_DATA?.length > 0"
                 style="height: 500px;  overflow: auto;">

              <table id="basic-datatable"
                     class="table table-bordered dt-responsive nowrap datatables no-footer dtr-inline"  aria-describedby="page-heading">
                <thead>
                <tr >
                  <th scope="col"    >First Name & Last Name</th>
                  <th scope="col" >Phone</th>
                  <th scope="col" >Email</th>
                  <th scope="col" >Description</th>
                  <th scope="col" >Action</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let tiers of Categories_DATA ;">

                  <td>{{tiers.firstName + ' '+ tiers.lastName}}</td>
                  <td> {{ tiers.phone}}</td>
                  <td>{{ tiers.email }}</td>
                  <td>{{ tiers.description }}</td>
                  <td>
                    <button (click)="onDelete(tiers)"
                            class=" text-danger btn btn-sm">
                    <i class="fa fa-trash font-size-18 "></i>
                  </button></td>

                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
